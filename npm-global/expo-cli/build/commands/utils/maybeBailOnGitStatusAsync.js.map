{"version":3,"sources":["../../../src/commands/utils/maybeBailOnGitStatusAsync.ts"],"names":["maybeBailOnGitStatusAsync","isGitStatusClean","log","newLine","program","nonInteractive","warn","answer","message"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEe,eAAeA,yBAAf,GAA6D;AAC1E,QAAMC,gBAAgB,GAAG,MAAM,6CAA/B;;AACAC,iBAAIC,OAAJ,GAF0E,CAI1E;;;AACA,MAAI,CAACF,gBAAL,EAAuB;AACrB,QAAIG,qBAAQC,cAAZ,EAA4B;AAC1BH,qBAAII,IAAJ,CACG,sFADH;;AAGA,aAAO,KAAP;AACD;;AAED,UAAMC,MAAM,GAAG,MAAM,6BAAa;AAChCC,MAAAA,OAAO,EAAG;AADsB,KAAb,CAArB;;AAIA,QAAI,CAACD,MAAL,EAAa;AACX,aAAO,IAAP;AACD;;AAEDL,mBAAIC,OAAJ;AACD;;AACD,SAAO,KAAP;AACD","sourcesContent":["import program from 'commander';\n\nimport log from '../../log';\nimport { confirmAsync } from '../../prompts';\nimport { validateGitStatusAsync } from './ProjectUtils';\n\nexport default async function maybeBailOnGitStatusAsync(): Promise<boolean> {\n  const isGitStatusClean = await validateGitStatusAsync();\n  log.newLine();\n\n  // Give people a chance to bail out if git working tree is dirty\n  if (!isGitStatusClean) {\n    if (program.nonInteractive) {\n      log.warn(\n        `Git status is dirty but the command will continue because nonInteractive is enabled.`\n      );\n      return false;\n    }\n\n    const answer = await confirmAsync({\n      message: `Would you like to proceed?`,\n    });\n\n    if (!answer) {\n      return true;\n    }\n\n    log.newLine();\n  }\n  return false;\n}\n"],"file":"maybeBailOnGitStatusAsync.js"}