{"version":3,"sources":["../src/exit.ts"],"names":["installExitHooks","projectDir","onStop","Project","stopAsync","killSignals","signal","process","on","log","nested","chalk","blue","then","green","exit"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEO,SAASA,gBAAT,CACLC,UADK,EAELC,MAA6C,GAAGC,eAAQC,SAFnD,EAGC;AACN,QAAMC,WAAkC,GAAG,CAAC,QAAD,EAAW,SAAX,CAA3C;;AACA,OAAK,MAAMC,MAAX,IAAqBD,WAArB,EAAkC;AAChCE,IAAAA,OAAO,CAACC,EAAR,CAAWF,MAAX,EAAmB,MAAM;AACvBG,qBAAIC,MAAJ,CAAWC,iBAAMC,IAAN,CAAW,wBAAX,CAAX;;AACAV,MAAAA,MAAM,CAACD,UAAD,CAAN,CAAmBY,IAAnB,CAAwB,MAAM;AAC5BJ,uBAAIC,MAAJ,CAAWC,iBAAMG,KAAN,CAAY,mBAAZ,CAAX;;AACAP,QAAAA,OAAO,CAACQ,IAAR;AACD,OAHD;AAID,KAND;AAOD;AACF","sourcesContent":["import { Project } from '@expo/xdl';\nimport chalk from 'chalk';\n\nimport log from './log';\n\nexport function installExitHooks(\n  projectDir: string,\n  onStop: (projectDir: string) => Promise<void> = Project.stopAsync\n): void {\n  const killSignals: ['SIGINT', 'SIGTERM'] = ['SIGINT', 'SIGTERM'];\n  for (const signal of killSignals) {\n    process.on(signal, () => {\n      log.nested(chalk.blue('\\nStopping packager...'));\n      onStop(projectDir).then(() => {\n        log.nested(chalk.green('Packager stopped.'));\n        process.exit();\n      });\n    });\n  }\n}\n"],"file":"exit.js"}