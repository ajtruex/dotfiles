{"version":3,"file":"job.js","sourceRoot":"","sources":["../src/job.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAA4B;AAE5B,2CAAuC;AACvC,mDAAqC;AACrC,2CAA6B;AAI7B,MAAM,SAAS,GAAG,aAAG,CAAC,MAAM,CAAM;IAChC,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE;SACnB,KAAK,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,oBAAQ,CAAC,CAAC;SACjC,QAAQ,EAAE;CACd,CAAC;KACC,IAAI,CAAC,aAAG,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,oBAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,SAAS,EAAE,CAAC;KACvF,IAAI,CAAC,aAAG,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,oBAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;AAWrE,8BAAS;AATvB,SAAS,WAAW,CAAC,GAAW;IAC9B,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IACjD,IAAI,KAAK,EAAE;QACT,MAAM,KAAK,CAAC;KACb;SAAM;QACL,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAEwB,kCAAW","sourcesContent":["import Joi from '@hapi/joi';\n\nimport { Platform } from './constants';\nimport * as Android from './android';\nimport * as iOS from './ios';\n\ntype Job = Android.Job | iOS.Job;\n\nconst JobSchema = Joi.object<Job>({\n  platform: Joi.string()\n    .valid(...Object.values(Platform))\n    .required(),\n})\n  .when(Joi.object({ platform: Platform.Android }).unknown(), { then: Android.JobSchema })\n  .when(Joi.object({ platform: Platform.iOS }).unknown(), { then: iOS.JobSchema });\n\nfunction sanitizeJob(job: object): Job {\n  const { value, error } = JobSchema.validate(job);\n  if (error) {\n    throw error;\n  } else {\n    return value;\n  }\n}\n\nexport { Job, JobSchema, sanitizeJob };\n"]}